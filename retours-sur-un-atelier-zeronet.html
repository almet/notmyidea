<!DOCTYPE html>
<html lang="en">
  <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <title>Retours sur un atelier ZeroNet - Alexis - Carnets en ligne</title>

    <meta charset="utf-8" />
    <link href="https://blog.notmyidea.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alexis - Carnets en ligne Full Atom Feed" />
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/poole.css"/>
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/syntax.css"/>
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/lanyon.css"/>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/styles.css"/>



<style>

h1 {
    font-family: "Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif;
    padding: 80px 50px;
    text-align: center;
    text-transform: uppercase;
    text-rendering: optimizeLegibility;
    color: #202020;
    letter-spacing: .1em;
    text-shadow:
        -1px -1px 1px #111,
        2px 2px 1px #eaeaea;
}

#main {
    text-align: justify;
    text-justify: inter-word;
}
#main h1 {
    padding: 10px;
}

.post-headline {
    padding: 15px;
    text-align: center;
}
</style>
  </head>

  <body>
<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="profile">
      <img src="https://blog.notmyidea.org/theme/img/profile.png"/>
    </div>
  </div>

  <nav class="sidebar-nav">
  <a class="sidebar-nav-item" href="/">Articles</a>

  <a class="sidebar-nav-item" href="https://github.com/almet">Code</a>
  </nav>
</div>    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://blog.notmyidea.org/" title="Home">Alexis - Carnets en ligne</a>
          </h3>
        </div>
      </div>

      <div class="container content">
<div id="main" class="posts">
<h1 class="post-title">Retours sur un atelier ZeroNet</h1>

<span class="post-date">
    17 mars 2016, dans <a class="no-color" href="category/technologie.html">Technologie</a>
</span>
<img id="illustration" class="illustration-Technologie" src="" />

<div class="post article">
    <h2 class="post-headline">Comment contourner la censure gr√¢ce √† un Web pair-√†-pair ?</h2>
    <div id="toc_container">
      <div class="toc">
<ul>
<li><a href="#un-peu-dhistoire">Un peu d'histoire</a></li>
<li><a href="#un-web-decentralise">Un Web d√©centralis√©</a></li>
<li><a href="#atelier">Atelier</a><ul>
<li><a href="#partager-sur-le-reseau-local">Partager sur le r√©seau local</a></li>
</ul>
</li>
<li><a href="#questions-reponses">Questions / R√©ponses</a><ul>
<li><a href="#torrent-tor-breche-de-secu">Torrent + Tor = br√®che de s√©cu ?</a></li>
<li><a href="#zeromail-cest-lent-non">ZeroMail, c'est lent non ?</a></li>
<li><a href="#comment-heberger-des-tres-gros-sites">Comment h√©berger des tr√®s gros sites ?</a></li>
<li><a href="#est-ce-quon-a-vraiment-besoin-dun-tracker">Est-ce qu'on √† vraiment besoin d'un tracker ?</a></li>
</ul>
</li>
</ul>
</div>

      </div>
    <h1>üåü</h1>
    <p>Mardi dernier se tenait <a href="http://biblio.insa-rennes.fr/crypto">une <em>cryptoparty</em></a> dans les locaux de l'INSA de Rennes.</p>
<p>L'√©v√®nement s'√©tant rempli au del√† de toutes les esp√©rances, on m'a propos√© de
venir y tenir un atelier, que j'ai propos√© sur <a href="https://zeronet.io">ZeroNet</a>, un
petit projet fort sympathique qui pourrait devenir une nouvelle mani√®re de
distribuer le Web, permettant notamment d'√©viter la censure.</p>
<p>Avant toute autre chose, merci √©norm√©ment √† l'√©quipe de la biblioth√®que de
l'INSA pour l'organisation de cet √©v√®nement qui √† une r√©elle port√©e politique.</p>
<h2 id="un-peu-dhistoire">Un peu d'histoire</h2>
<p>Il me semble que Tim Bernes Lee (l'inventeur du Web) avait pr√©vu le Web comme un
protocole d√©centralis√©. Chacun h√©bergerait ses donn√©es et les servirait aux
autres, qui pourraient alors y acc√©der.</p>
<p>Avec ce fonctionnement, impossible alors d'acc√©der √† des sites si leur auteur
n'est pas en ligne. Qu'√† cela ne tienne, on s'est mis √† avoir des machines qui
restent connect√©es au r√©seau 24 heures par jour. Et puis une machine ne
suffisant plus, on a eu des fermes de machines dans des <em>data centers</em> etc afin
de supporter les milliers d'utilisateurs des sites.</p>
<h2 id="un-web-decentralise">Un Web d√©centralis√©</h2>
<p>ZeroNet permet (entre autres) de r√©pondre √† ce probl√®me en proposant une mani√®re alternative de <strong>distribuer le Web</strong>, en pair √† pair. Lors d'une visite d'un site:</p>
<ol>
<li>Vous contactez un <em>tracker</em> BitTorrent pour connaitre la liste des autres
   visiteurs du site (les <em>pairs</em>).</li>
<li>Vous demandez aux <em>pairs</em> de vous donner les fichiers du site.</li>
<li>Vous validez que les fichiers servis sont bien les bons (en v√©rifiant la
   signature attach√©e).</li>
</ol>
<p>N'importe quel visiteur devient alors un <em>pair</em>, qui sert le site aux autres
visiteurs.</p>
<p>Parmi les nombreux avantages de cette approche, je note particuli√®rement que:</p>
<ul>
<li>Il est tr√®s difficile de censurer un site ‚Äî Il est sur l'ensemble des machines
  des visiteurs.</li>
<li>Les attaques par <em>fingerprinting</em> sont impossibles: le navigateur Web se
  connecte √† un serveur <em>proxy</em> local.</li>
<li>Vous d√©tenez directement vos donn√©es et (par design) ne les donnez pas √† des
  silos (Facebook, Google, etc.)</li>
</ul>
<p>Si vous √™tes interess√©s par une d√©monstration rapide, j'ai enregistr√© une vid√©o
de 10 minutes o√π je parle en anglais avec une voix tr√®s grave.</p>
<video controls="" src="http://alexis.notmyidea.org/zeronet.webm" width=800></video>

<h2 id="atelier">Atelier</h2>
<p>Pour l'atelier, j'ai choisi de faire une pr√©sentation rapide du projet (<a href="{filename}/static/zeronet-presentation-fr.pdf">j'ai
traduit les slides</a> anglais
pour l'occasion ‚Äî <a href="https://docs.google.com/presentation/d/158C_-V1ueNaaKHMBMBgGOVhunb9xrXzB3hC_g1N53c0/edit?usp=sharing">acc√®s aux sources</a>)
avant d'installer ZeroNet sur les machines et de l'utiliser pour publier un
site.</p>
<h3 id="partager-sur-le-reseau-local">Partager sur le r√©seau local</h3>
<p>Nous avons eu des soucis √† cause du r√©seau (un peu congestionn√©) sur lequel
les ports utilis√©s pour la discussion entre <em>pairs</em> √©taient ferm√©s. Il est bien
sur possible de faire tourner le tout de mani√®re ind√©pendante du reste du r√©seau,
mais je n'avais pas pr√©vu le coup.</p>
<p>Voici donc comment faire pour contourner le souci:</p>
<ol>
<li>Installer et lancer un <em>tracker</em> BitTorrent (De mani√®re surprenante,
   <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=685575">rien n'est packag√© pour debian pour l'instant</a>)
   J'ai choisi d'installer <a href="http://erdgeist.org/arts/software/opentracker/#build-instructions">OpenTracker</a></li>
<li>Ensuite lancer ZeroNet avec des options sp√©cifiques.</li>
</ol>
<div class="highlight"><pre><span></span>$ python zeronet.py --trackers udp://localhost:6969 --ip_external <span class="m">192</span>.168.43.207
$ python zeronet.py --trackers udp://192.168.43.207:6969 --ip_external <span class="m">192</span>.168.43.172
</pre></div>


<p>Il est n√©cessaire de sp√©cifier l'adresse IP externe que chaque n≈ìud expose pour
√©viter qu'elle n'essaye d'aller la trouver par elle m√™me: nous voulons l'adresse
du r√©seau local, et non pas l'adresse internet.</p>
<p>La prochaine fois je tenterais de venir avec un HotSpot Wifi et un tracker
BitTorrent dans la poche!</p>
<h2 id="questions-reponses">Questions / R√©ponses</h2>
<p>Il y avait quelques questions int√©ressantes auxquelles je n'ai pas toujours su
r√©pondre sur le moment. Apr√®s quelques recherches, je rajoute des d√©tails ici.</p>
<h3 id="torrent-tor-breche-de-secu">Torrent + Tor = br√®che de s√©cu ?</h3>
<p>Il me semblait avoir entendu parler de probl√®mes de <em>d√©-anonymisation</em>
<a href="https://hal.inria.fr/file/index/docid/471556/filename/TorBT.pdf">lors de l'utilisation de BitTorrent par dessus Tor</a>.</p>
<blockquote>
<p>Dans certains cas, certains clients torrents (uTorrent, BitSpirit, etc)
√©crivent directement votre adresse IP dans l'information qui est envoy√©e
au tracker et/ou aux autres pairs.
‚Äî https://blog.torproject.org/blog/bittorrent-over-tor-isnt-good-idea</p>
</blockquote>
<p><a href="https://github.com/HelloZeroNet/ZeroNet/issues/274">Ce n'est pas le cas de ZeroNet</a>, ce qui √©vacue le souci.</p>
<h3 id="zeromail-cest-lent-non">ZeroMail, c'est lent non ?</h3>
<p>Une des applications de d√©mo, <em>ZeroMail</em>, propose un m√©canisme qui permet de
s'envoyer des messages chiffr√©s sur un r√©seau pair √† pair. L'approche choisie
est de chiffrer les messages avec la cl√© du destinataire et de le mettre dans
un <em>pot commun</em>. Tout le monde essaye de d√©chiffrer tous les messages, mais ne
peut d√©chiffrer que les siens.</p>
<p>Cela permet de ne <strong>pas</strong> fuiter de m√©ta-donn√©es, <a href="{filename}../crypto/2015.05.pgp-problemes.rst">√† l'inverse de PGP</a>.</p>
<p>Je n'ai en fait pas de r√©ponse claire √† donner √† cette question: l'auteur de
ZeroNet me disait que 10MB (la limite de taille d'un site, par d√©faut)
correspondait √† beaucoup de place pour stocker des messages, et qu'il √©tait
possible de supprimer les anciens messages une fois qu'ils sont lus par exemple.</p>
<p>Une autre solution √† laquelle je pensait √©tait de cr√©er un <em>ZeroSite</em> pour
chaque r√©cipient, mais on connait √† ce moment l√† le nombre de messages qu'un
utilisateur peut recevoir.</p>
<p>Je vois plusieurs probl√®mes avec le design actuel de ZeroMail (il me semble
assez facile d'y faire un d√©ni de service par exemple). A creuser.</p>
<h3 id="comment-heberger-des-tres-gros-sites">Comment h√©berger des tr√®s gros sites ?</h3>
<p>Par exemple, comment faire pour h√©berger Wikipedia ?</p>
<p>Il semble que la meilleure mani√®re de faire serait de s√©parer Wikipedia en
un tas de petites ressources (par cat√©gorie par ex.). Les gros m√©dias pourraient
√™tre consid√©r√©s optionnels (et donc t√©l√©charg√©s uniquement √† la demande)</p>
<h3 id="est-ce-quon-a-vraiment-besoin-dun-tracker">Est-ce qu'on √† vraiment besoin d'un tracker ?</h3>
<p>Le support d'une DHT <a href="https://github.com/HelloZeroNet/ZeroNet/issues/57">est souhait√©</a>,
mais pour l'instant pas encore impl√©ment√©. L'utilisation de la DHT BitTorrent
n'est pas une option puisque <a href="https://github.com/HelloZeroNet/ZeroNet/issues/57">Tor ne supporte pas UDP</a>.</p>
  </div>
</div>
      </div>

      <label for="sidebar-checkbox" class="sidebar-toggle"></label>

      <script>
        (function(document) {
          var i = 0;
          // snip empty header rows since markdown can't
          var rows = document.querySelectorAll('tr');
          for(i=0; i<rows.length; i++) {
            var ths = rows[i].querySelectorAll('th');
            var rowlen = rows[i].children.length;
            if (ths.length > 0 && ths.length === rowlen) {
              rows[i].remove();
            }
          }
        })(document);
      </script>

      <script>
        /* Lanyon & Poole are Copyright (c) 2014 Mark Otto. Adapted to Pelican 20141223 and extended a bit by @thomaswilley */
        (function(document) {
          var toggle = document.querySelector('.sidebar-toggle');
          var sidebar = document.querySelector('#sidebar');
          var checkbox = document.querySelector('#sidebar-checkbox');
          document.addEventListener('click', function(e) {
            var target = e.target;
            if(!checkbox.checked ||
            sidebar.contains(target) ||
            (target === checkbox || target === toggle)) return;
            checkbox.checked = false;
            }, false);
            })(document);
      </script>
     </div>
  </body>
</html>