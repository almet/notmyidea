<!DOCTYPE html>
<html lang="en">
  <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <title>Service de nuages : Perspectives pour l'√©t√© - Carnets en ligne</title>

    <meta charset="utf-8" />
    <link href="https://blog.notmyidea.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carnets en ligne Full Atom Feed" />
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/poole.css"/>
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/syntax.css"/>
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/lanyon.css"/>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
    <link rel="stylesheet" href="https://blog.notmyidea.org/theme/css/styles.css"/>



<style>

h1 {
    font-family: "Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif;
    padding: 80px 50px;
    text-align: center;
    text-transform: uppercase;
    text-rendering: optimizeLegibility;
    color: #202020;
    letter-spacing: .1em;
    text-shadow:
        -1px -1px 1px #111,
        2px 2px 1px #eaeaea;
}

#main {
    text-align: justify;
    text-justify: inter-word;
}
#main h1 {
    padding: 10px;
}

.post-headline {
    padding: 15px;
    text-align: center;
}
</style>
  </head>

  <body>
<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="profile">
      <img src="https://blog.notmyidea.org/theme/img/profile.png"/>
    </div>
  </div>

  <nav class="sidebar-nav">
  <a class="sidebar-nav-item" href="/">Articles</a>

  </nav>
</div>    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://blog.notmyidea.org/" title="Home">Carnets en ligne</a>
          </h3>
        </div>
      </div>

      <div class="container content">
<div id="main" class="posts">
<h1 class="post-title">Service de nuages : Perspectives pour l'√©t√©</h1>

<span class="post-date">
    07 juillet 2015, dans <a class="no-color" href="category/technologie.html">Technologie</a>
</span>
<img id="illustration" class="illustration-Technologie" src="" />

<div class="post article">
    <h1>üåü</h1>
    <p><em>Cet article est repris depuis le blog ¬´ Service de Nuages ¬ª de mon √©quipe √† Mozilla</em></p>
<p>Mozilla a pour coutume d'organiser r√©guli√®rement des semaines de travail o√π tous les employ√©s
sont r√©unis physiquement. Pour cette derni√®re √©dition, nous avons pu retrouver
nos coll√®gues du monde entier √† <a class="reference external" href="http://www.openstreetmap.org/node/268148288#map=4/50.12/-122.95">Whistler, en Colombie Britannique au Canada</a> !</p>
<img alt="¬´All Hands¬ª talk about Lego, by &#64;davidcrob - CC0" class="align-center" src="{filename}/images/whistler-talks.jpg" />
<p>Ce f√ªt l'occasion pour notre √©quipe de se retrouver, et surtout de partager notre
vision et nos id√©es dans le domaine du stockage, afin de collecter des cas d'utilisation pour
notre solution <a class="reference external" href="https://kinto.readthedocs.org">Kinto</a>.</p>
<p>Dans cet article, nous passons en revue les pistes que nous avons pour
les prochains mois.</p>
<div class="section" id="ateliers-et-promotion">
<h2>Ateliers et promotion</h2>
<p>Nicolas a pr√©sent√© <a class="reference external" href="https://github.com/mozilla-services/kinto.js">Kinto.js</a> dans un atelier d√©di√©, avec comme support de
pr√©sentation le <a class="reference external" href="http://kintojs.readthedocs.org/en/latest/tutorial/">tutorial d'introduction</a>.</p>
<p>L'application r√©sultante, pourtant toute simple, permet d'appr√©hender les
concepts de synchronisation de Kinto. Le tout sans installation pr√©lable,
puisque R√©my a mis en place un <a class="reference external" href="https://kinto.dev.mozaws.net/v1/">serveur de dev effac√© tous les jours</a>.</p>
<p>Nous avions mis un point d'honneur √† faire du Vanilla.JS, d√©j√† pour √©viter les
combats de clochers autour des frameworks, mais aussi pour mettre en √©vidence qu'avec
HTML5 et ES6, on n'√©tait plus aussi d√©munis qu'il y a quelques ann√©es.</p>
<p>Ce petit atelier nous a permis de nous rendre compte qu'on avait encore de
grosses lacunes en terme de documentation, surtout en ce qui concerne
l'√©co-syst√®me et la vision globale des projets (Kinto, Kinto.js, Cliquet, ...).
Nous allons donc faire de notre mieux pour combler ce manque.</p>
<img alt="Kinto.js workshop - CC0" class="align-center" src="{filename}/images/whistler-workshop.jpg" />
</div>
<div class="section" id="mozilla-payments">
<h2>Mozilla Payments</h2>
<p>Comme <a class="reference external" href="http://www.servicedenuages.fr/la-gestion-des-permissions">d√©crit pr√©c√©demment</a>, nous avons mis en place un syst√®me de permissions pour r√©pondre aux besoins de suivi des paiements et abonnements.</p>
<p>Pour ce projet, Kinto sera utilis√© depuis une application Django, via un client Python.</p>
<p>Maintenant que les d√©veloppements ont √©t√© livr√©s, il faut transformer l'essai, r√©ussir l'int√©gration, l'h√©bergement et la mont√©e en puissance. La solution doit √™tre livr√©e √† la fin de l'ann√©e.</p>
<div class="section" id="a-venir">
<h3>√Ä venir</h3>
<p>Nous aimerions en profiter pour impl√©menter une fonctionnalit√© qui nous tient √† coeur : la construction de la liste des enregistrements accessibles en lecture sur une collection partag√©e.</p>
<img alt="Whistler Alta Lake - CC0" class="align-center" src="{filename}/images/whistler-lake.jpg" />
</div>
</div>
<div class="section" id="firefox-os-et-stockage">
<h2>Firefox OS et stockage</h2>
<p>Nous avons eu beaucoup d'√©changes avec l'√©quipe de Firefox OS, avec qui nous avions
d√©j√† eu l'occasion de collaborer, pour le <a class="reference external" href="https://github.com/mozilla-services/msisdn-gateway">serveur d'identification BrowserID par SMS</a> et pour <a class="reference external" href="https://github.com/mozilla-services/loop-server">Firefox Hello</a>.</p>
<div class="section" id="in-app-sync">
<h3>In-App sync</h3>
<p>Kinto, la solution simple promue pour la synchronisation de donn√©es dans les applications
Firefox OS ? La classe ! C'est ce qu'on avait en t√™te depuis longtemps, d√©j√† √†
l'√©poque avec <a class="reference external" href="http://daybed.readthedocs.org/">Daybed</a>. Voici donc une belle opportunit√© √† saisir !</p>
<p>Il va falloir expliciter les limitations et hypoth√®ses simplificatrices de notre
solution, surtout en termes de gestion de la concurrence. Nous sommes persuad√©s
que √ßa colle avec la plupart des besoins, mais il ne faudrait pas d√©cevoir :)</p>
<p>Le fait que <a class="reference external" href="https://github.com/daleharvey">Dale</a>, un des auteurs de <a class="reference external" href="http://pouchdb.com/">PouchDB</a> et <a class="reference external" href="https://github.com/michielbdejong">Michiel de Jong</a>, un des auteurs de <a class="reference external" href="http://remotestorage.io/">Remote Storage</a>, nous aient encourag√©s sur nos premiers pas nous a bien motiv√© !</p>
</div>
<div class="section" id="cut-the-rope">
<h3>Cut the Rope</h3>
<p>Kinto devrait √™tre mis √† profit pour synchroniser les param√®tres et les scores
du <a class="reference external" href="http://mozilla.cuttherope.net/">jeu</a>. Un premier exercice et une premi√®re vitrine sympas !</p>
</div>
<div class="section" id="syncto">
<h3>¬´ SyncTo ¬ª</h3>
<p><a class="reference external" href="https://docs.services.mozilla.com/storage/apis-1.5.html">Firefox Sync</a> est la solution qui permet de synchroniser les donn√©es de Firefox (favoris, extensions, historique, compl√©tion des formulaires, mots de passe, ...) entre plusieurs p√©riph√©riques, de mani√®re chiffr√©e.</p>
<p>L'impl√©mentation du client en JavaScript est relativement complexe et date un peu maintenant.
Le code existant n'est pas vraiment portable dans <em>Firefox OS</em> et les tentatives de r√©√©criture
n'ont pas abouti.</p>
<p>Nous souhaitons impl√©menter un pont entre <em>Kinto</em> et <em>Firefox Sync</em>, de mani√®re
√† pouvoir utiliser le client <em>Kinto.js</em>, plus simple et plus moderne, pour r√©cup√©rer
les contenus et les stocker dans IndexedDB. Le delta √† impl√©menter c√¥t√© serveur est faible car nous nous √©tions
inspir√©s du protocole d√©j√† √©prouv√© de Sync. C√¥t√© client, il s'agira surtout de
c√¢bler l'authentification BrowserId et la Crypto.</p>
<p>Alexis a saut√© sur l'occasion pour commencer l'√©criture d'<a class="reference external" href="https://github.com/mozilla-services/syncclient">un client python pour Firefox Sync</a>, qui servira de brique de base pour l'√©criture du service.</p>
</div>
<div class="section" id="cloud-storage">
<h3>Cloud Storage</h3>
<p>Eden Chuang et Sean Lee ont pr√©sent√© les avanc√©es sur l'int√©gration de services de stockages
distants (<em>DropBox, Baidu Yun</em>) dans <em>Firefox OS</em>. Actuellement, leur preuve de
concept repose sur <a class="reference external" href="https://fr.wikipedia.org/wiki/Filesystem_in_Userspace">FUSE</a>.</p>
<p>Nous avons √©videmment en t√™te d'introduire la notion de fichiers attach√©s dans
<em>Kinto</em>, en impl√©mentant la specification
<a class="reference external" href="https://tools.ietf.org/html/draft-dejong-remotestorage-05">*Remote Storage*</a>,
mais pour l'instant les cas d'utilisations ne se sont pas encore pr√©sent√©s officiellement.</p>
</div>
<div class="section" id="id2">
<h3>√Ä venir</h3>
<p>Nous serons probablement amen√©s √† introduire la gestion de la concurrence dans
le client JS, en compl√©ment de ce qui a √©t√© fait sur le serveur, pour permettre
les √©critures simultan√©es et synchronisation en t√¢che de fond.</p>
<p>Nous sommes par ailleurs perp√©tuellement preneurs de vos retours ‚Äî et bien
entendu de vos contributions ‚Äî tant sur le code <a class="reference external" href="https://github.com/mozilla-services/kinto/">serveur</a>
que <a class="reference external" href="https://github.com/mozilla-services/kinto.js/">client</a>  !</p>
<img alt="Firefox OS Cloud Storage Presentation - CC0" class="align-center" src="{filename}/images/whistler-cloud-storage.jpg" />
</div>
</div>
<div class="section" id="contenus-applicatifs-de-firefox">
<h2>Contenus applicatifs de Firefox</h2>
<p>Aujourd'hui Firefox a un cycle de release de six semaines. Un des objectifs
consiste √† d√©solidariser certains contenus applicatifs de ces cycles
relativement longs (ex. <em>r√®gles de securit√©, dictionnaires, traductions, ...</em>) <a class="footnote-reference" href="#id4" id="id3">[1]</a>.</p>
<p>Il s'agit de donn√©es JSON et binaire qui doivent √™tre versionn√©es et synchronis√©es par
les navigateurs (<em>lecture seule</em>).</p>
<p>Il y a plusieurs outils officiels qui existent pour g√©rer √ßa (<em>Balrog</em>, <em>Shavar</em>, ...),
et pour l'instant, aucun choix n'a √©t√© fait. Mais lors des conversations avec
l'√©quipe en charge du projet, ce f√ªt vraiment motivant de voir que m√™me pour
ce genre de besoins internes, <em>Kinto</em> est tout aussi pertinent !</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>La bonne nouvelle c'est que toutes les fonctionnalit√©s <em>third-party</em> qui ont
√©t√© int√©gr√©es r√©cemment vont redevenir des <em>add-ons</em> \o/.</td></tr>
</tbody>
</table>
<img alt="Landscape - CC0" class="align-center" src="{filename}/images/whistler-landscape.jpg" />
</div>
<div class="section" id="awesome-bar">
<h2>Awesome bar</h2>
<p>L'√©quipe <em>Firefox Labs</em>, le laboratoire qui √©l√®ve des pandas roux en √©prouvette,
serait vraiment int√©ress√© par notre solution, notamment pour abreuver en donn√©es
un prototype pour am√©liorer <em>Awesome bar</em>, qui fusionnerait URL, historique et recherche.</p>
<p>Nous ne pouvons pas en dire beaucoup plus pour l'instant, mais les fonctionnalit√©s
de collections d'enregistrements partag√©es entre utilisateurs de <em>Kinto</em>
correspondent parfaitement √† ce qui est envisag√© pour le futur du navigateur :)</p>
<div class="section" id="id5">
<h3>√Ä venir</h3>
<p>Nous serons donc probablement amen√©s, avant de la fin de l'ann√©e, √† introduire des
fonctionnalit√©s d'indexation et de recherche <em>full-text</em> (comprendre <em>ElasticSearch</em>).
Cela rejoint nos plans pr√©c√©dents, puisque c'est quelque chose que nous avions dans
<em>Daybed</em>, et qui figurait sur notre feuille de route !</p>
<img alt="Firefox Labs Meeting - CC0" class="align-center" src="{filename}/images/whistler-labs.jpg" />
</div>
</div>
<div class="section" id="browser-html">
<h2>Browser.html</h2>
<p>L'√©quipe <em>Recherche</em> explore les notions de plateforme, et travaille notamment
sur l'impl√©mentation d'un navigateur en JS/HTML avec <em>React</em>:
<a class="reference external" href="https://github.com/mozilla/browser.html">browser.html</a></p>
<p><em>Kinto</em> correspond parfaitement aux attentes
de l'√©quipe pour synchroniser les donn√©es associ√©es √† un utilisateur.</p>
<p>Il pourrait s'agir de donn√©es de navigation (comme Sync), mais aussi de collections
d'enregistrements diverses, comme par exemple les pr√©f√©rences du navigateur
ou un √©quivalent √† <em>Alexa.com Top 500</em> pour fournir la compl√©tion d'URL sans
interroger le moteur de recherche.</p>
<p>L'exercice pourrait √™tre pouss√© jusqu'√† la synchronisation d'√©tats <em>React</em>
entre p√©riph√©riques (par exemple pour les onglets).</p>
<div class="section" id="id7">
<h3>√Ä venir</h3>
<p>Si <em>browser.html</em> doit stocker des donn√©es de navigation, il faudra ajouter
des fonctionnalit√©s de chiffrement sur le client JS. √áa tombe bien, c'est un
sujet passionant, et <a class="reference external" href="http://www.w3.org/TR/WebCryptoAPI/">il y a plusieurs standards</a> !</p>
<p>Pour √©viter d'interroger le serveur √† intervalle r√©gulier afin de synchroniser les
changements, l'introduction des <a class="reference external" href="https://w3c.github.io/push-api/">*push notifications*</a> semble assez naturelle.
Il s'agirait alors de la derni√®re pierre qui manque √† l'√©difice pour obtenir
un ¬´<em>Mobile/Web backend as a service</em>¬ª complet.</p>
<img alt="Roadmap - CC0" class="align-center" src="{filename}/images/whistler-roadmap.jpg" />
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>Nous sommes dans une situation id√©ale, puisque ce que nous avions imagin√©
sur <a class="reference external" href="https://github.com/mozilla-services/kinto/wiki/Roadmap">notre feuille de route</a> correspond √† ce qui nous est demand√© par les
diff√©rentes √©quipes.</p>
<p>L'enjeu consiste maintenant √† se coordonner avec tout le monde, ne pas d√©cevoir,
tenir la charge, continuer √† am√©liorer et √† faire la promotion du produit, se concentrer
sur les prochaines √©tapes et embarquer quelques contributeurs √† nos cot√©s pour
construire une solution libre, g√©n√©rique, simple et auto-h√©bergeable pour le stockage
de donn√©es sur le Web :)</p>
<img alt="Friday Night Party - CC0" class="align-center" src="{filename}/images/whistler-top-roof.jpg" />
</div>

  </div>
</div>
      </div>

      <label for="sidebar-checkbox" class="sidebar-toggle"></label>

      <script>
        (function(document) {
          var i = 0;
          // snip empty header rows since markdown can't
          var rows = document.querySelectorAll('tr');
          for(i=0; i<rows.length; i++) {
            var ths = rows[i].querySelectorAll('th');
            var rowlen = rows[i].children.length;
            if (ths.length > 0 && ths.length === rowlen) {
              rows[i].remove();
            }
          }
        })(document);
      </script>

      <script>
        /* Lanyon & Poole are Copyright (c) 2014 Mark Otto. Adapted to Pelican 20141223 and extended a bit by @thomaswilley */
        (function(document) {
          var toggle = document.querySelector('.sidebar-toggle');
          var sidebar = document.querySelector('#sidebar');
          var checkbox = document.querySelector('#sidebar-checkbox');
          document.addEventListener('click', function(e) {
            var target = e.target;
            if(!checkbox.checked ||
            sidebar.contains(target) ||
            (target === checkbox || target === toggle)) return;
            checkbox.checked = false;
            }, false);
            })(document);
      </script>
     </div>
  </body>
</html>