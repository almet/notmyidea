<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>
uMap - Alexis MÃ©taireau        </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet"
              href="https://blog.notmyidea.org/theme/css/main.css?v2"
              type="text/css" />
        <link href="https://blog.notmyidea.org/feeds/all.atom.xml"
              type="application/atom+xml"
              rel="alternate"
              title="Alexis MÃ©taireau ATOM Feed" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    </head>
    <body>
        <div id="content">
            <section id="links">
                <ul>
                            <li>
                                <a class="main" href="/">Alexis MÃ©taireau</a>
                            </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/journal/index.html">Journal</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/code/">Code, etc.</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/weeknotes/">Notes hebdo</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/lectures/">Lectures</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/projets.html">Projets</a>
                        </li>
                </ul>
            </section>
  <header>
    <h1 class="post-title">uMap</h1>
    <details>
      <summary>Stats</summary>
        <div>
â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“          138% (242h / 175 prÃ©vues)
        </div>
        <ul>
          <li>242h rÃ©munÃ©rÃ©es</li>
          <li>4h bÃ©nÃ©voles</li>
        </ul>
      <table>
        <thead>
          <tr>
            <td>Mois</td>
            <td>Heures</td>
            <td>Jours</td>
          </tr>
        </thead>
        <tbody>
            <tr>
              <td>2024/02</td>
              <td>43</td>
              <td>6.1</td>
            </tr>
            <tr>
              <td>2024/01</td>
              <td>70</td>
              <td>10.0</td>
            </tr>
            <tr>
              <td>2023/12</td>
              <td>56</td>
              <td>8.0</td>
            </tr>
            <tr>
              <td>2023/11</td>
              <td>73</td>
              <td>10.4</td>
            </tr>
        </tbody>
      </table>
    </details>
  </header>
  <article>
    <div id="vis"></div>
    <h2 id="jeudi-22-fevrier-2024">ğŸ—“ï¸ Jeudi 22 fÃ©vrier&nbsp;2024</h2>
<p>Une bonne grosse journÃ©e :-) J&#8217;ai avancÃ© sur le changement vers des UUIDs pour
les layers, je suis pas encore sur que ce soit la version finale mais Ã§a avance
dans la bonne direction. J&#8217;ai l&#8217;impression que je vais devoir aller voir d&#8217;un
peu plus prÃ¨s les entrailles de Django et des migrations pour pouvoir rÃ©cupÃ©rer
le bon nom des contraintes qui sont gÃ©nÃ©rÃ©es par l&#8217;<span class="caps">ORM</span>.</p>
<p>J&#8217;en ai profitÃ© pour remettre au gout du jour la <span class="caps">PR</span> sur les IDs des features, et
pour commencer Ã  travailler sur le problÃ¨me du <code>Last-Modified</code> qui ne peut pas
avoir plus d&#8217;une requÃªte Ã  la mÃªme seconde, ce qui nous cause des&nbsp;soucis.</p>
<p>C&#8217;est chouette de faire quelques pull requests&nbsp;:-)</p>
<h2 id="lundi-19-fevrier-2024">ğŸ—“ï¸ Lundi 19 fÃ©vrier&nbsp;2024</h2>
<p>Un bout de temps pour debugger des histoires d&#8217;agent ssh qui n&#8217;utilise plus la
passphrase par defaut avec gnome-keyring. Il se trouve que depuis la version
46, la fonctionalitÃ© ssh <a href="https://
wiki.archlinux.org/title/GNOME/Keyring#SSH_keys">est maintenant dÃ©sactivÃ©e par defaut</a>. Ã‡a aura permis de mieux comprendre
le fonctionnement des agents <span class="caps">SSH</span>.</p>
<p>On enchaine sur un bug dans le deploiement avec Docker, mais sans avoir accÃ¨s aux logs
c&#8217;est compliquÃ© d&#8217;y voir clair. A priori quelque chose se passe mal, affaire Ã &nbsp;suivre.</p>
<p>Je reprends sur la synchro des layers, et je me rends compte qu&#8217;il n&#8217;est en fait pas
nÃ©cessaire d&#8217;avoir accÃ¨s aux formbuilders lors de la phase d&#8217;update (c&#8217;est
uniquement utile pour rerendre les formbuilder si ils sont actuellement
ouverts). Peut-Ãªtre utile, mais pas&nbsp;indispensable.</p>
<p>On enchaine le dÃ©but d&#8217;ap-s midi avec AurÃ©lie, et on dÃ©cide d&#8217;avancer sur l&#8217;expÃ©rience
utilisateur pour la synchro. Je suis content de discuter de Ã§a, c&#8217;est nouveau pour&nbsp;moi.</p>
<p>Weekly, puis discussion avec David et Yohan sur la suite des Ã©vÃ¨nements, on dÃ©cide d&#8217;utiliser
des UUIDs plutÃ´t que des IDs de base de Django. C&#8217;est pas si simple ! J&#8217;en profite pour
redÃ©couvrir les migrations avec&nbsp;Django.</p>
<p>On s&#8217;arrÃªte au milieu de la session, hate de prendre la&nbsp;suite.</p>
<h2 id="jeudi-15-fevrier-2024">ğŸ—“ï¸ Jeudi 15 fÃ©vrier&nbsp;2024</h2>
<p>Le matin j&#8217;ai terminÃ© l&#8217;article d&#8217;update, puis j&#8217;ai enchainÃ© sur la
synchronisation des layers. C&#8217;est un peu plus compliquÃ© que pour le reste des
features, et je suis donc content de le faire en dernier. Je fais un peu de
refactoring. Je dois arrÃªter au milieu pour enchaine sur ma soirÃ©e. Il faudra
rÃ©ussir Ã  mapper les <code>properties</code> avec les <code>formbuilders</code> qui vont bien, pour
que le client qui reÃ§oit puisse appliquer les modifications&nbsp;utiles.</p>
<p>Une bonne journÃ©e, j&#8217;aurais aimÃ© continuer et ne pas laisser au milieu&nbsp;:-)</p>
<h2 id="dimanche-11-fevrier-2024">ğŸ—“ï¸ Dimanche 11 fÃ©vrier&nbsp;2024</h2>
<p>Une session matinale de pair avec Yohan durant laquelle on discute de comment synchroniser l&#8217;Ã©diteur tabulaire (on se rends compte qu&#8217;il n&#8217;y a pas besoin de grand chose), et du protocole de synchronisation. On se dit que ce serait surement mieux de rÃ©utiliser certaines parties du code plutÃ´t que de les recrÃ©er (sÃ©rialisation et dÃ©sÃ©rialisation des coordonÃ©es des&nbsp;features).</p>
<p>Je change donc le code en fonction, puis on se fait une petite rÃ©union hebdomadaire ou on parle principalement du financement du projet. On se capte ensuite avec David. J&#8217;aimerai extraire quelques bouts de ce que j&#8217;ai fait pour en faire des <em>pull requests</em> et je lui demande des retours avant d&#8217;aller plus&nbsp;loin.</p>
<p>Je termine la journÃ©e par la rÃ©daction d&#8217;un article de blog sur mon avancÃ©e gÃ©nÃ©rale sur le&nbsp;sujet.</p>
<h2 id="jeudi-08-fevrier-2024">ğŸ—“ï¸ Jeudi 08 fÃ©vrier&nbsp;2024</h2>
<p>Je n&#8217;ai pas pris de&nbsp;notes.</p>
<h2 id="lundi-05-fevrier-2024">ğŸ—“ï¸ Lundi 05 fÃ©vrier&nbsp;2024</h2>
<p>Je commence par ajouter la suppression des points dans ma dÃ©mo, ce qui fonctionne, et on se fait une petite session rapide avec Yohan pendant laquelle je lui demande de m&#8217;Ã©clairer sur les endroits dans le code oÃ¹ je pourrais me connecter. On avance vite et Ã§a fonctionne. J&#8217;enchaine avec la retrospective qui permet de soulever quelques points intÃ©ressants, mais qui semble frustrante pour l&#8217;Ã©quipe. On clarifie ensuite certains aspects autour du financement du projet avec David et&nbsp;Yohan.</p>
<h2 id="jeudi-01-fevrier-2024">ğŸ—“ï¸ Jeudi 01 fÃ©vrier&nbsp;2024</h2>
<p>Discussion avec Yohan autour de l&#8217;<span class="caps">API</span> pour les requÃªtes, pour rÃ©ussir Ã  utiliser des classes natives JavaScript plutÃ´t que de passer par des Ã©vÃ¨nements Â« Ã  la Â»&nbsp;Leaflet.</p>
<h2 id="mercredi-31-janvier-2024">ğŸ—“ï¸ Mercredi 31 janvier&nbsp;2024</h2>
<p>J&#8217;ai enfin rÃ©ussi Ã  me concentrer. J&#8217;ai continuÃ© la rÃ©Ã©criture et la simplification du code existant, puis j&#8217;ai ajoutÃ© du code qui pemret l&#8217;ajout d&#8217;un marker et sa modification.
Ã‡a commence Ã  ressembler un peu plus Ã  quelque chose, j&#8217;ai l&#8217;impression de dÃ©bloquer des bouts de trucs qui me tenaient en haleine et mÃ©content.
J&#8217;ai pu faire une petite vidÃ©o de dÃ©mo en fin de&nbsp;session.</p>
<video controls width="80%">
  <source src="https://files.notmyidea.org/umap-sync-features.webm" type="video/webm">
</video>

<h2 id="mardi-30-janvier-2024">ğŸ—“ï¸ Mardi 30 janvier&nbsp;2024</h2>
<p>J&#8217;ai passÃ© du temps Ã  refondre le code dÃ©jÃ  Ã©crit concernant la synchronisation. L&#8217;<span class="caps">API</span> se clarifie et se simplifie, Ã§a fait du bien. On a fait une session de pair avec David durant laquelle on a pu trouver comment Ã©couter les Ã©vÃ©nements qui sont lancÃ©s lors de la crÃ©ation d&#8217;un point, et j&#8217;ai fini par supprimer tout un tas de complexitÃ© qui n&#8217;Ã©tait pas&nbsp;nÃ©cessaire.</p>
<p>Je suis plus content du code actuel, plus simple et direct, et aussi plus facile Ã  modifier. Bien dormir m&#8217;aide Ã  Ãªtre plus concentrÃ©&nbsp;!</p>
<h2 id="lundi-29-janvier-2024">ğŸ—“ï¸ Lundi 29 janvier&nbsp;2024</h2>
<p>Avec Yohan, on s&#8217;attaque Ã  un bug dans les tests de l&#8217;algorithme de merge des layers. L&#8217;idÃ©e est d&#8217;attendre que certaines requÃªtes soient passÃ©es pour continuer les tests dans playwright (merci <a href="https://playwright.dev/python/docs/network#variations"><code>page.expect_response</code></a>).</p>
<p>On se rends compte que ce qu&#8217;on pensait Ãªtre un test intermittent est en fait un bug: les headers <code>Last-Modified</code> et consort sont en fait Ã  la seconde prÃªt, et les fichiers correspondants stockÃ©s sur le serveur Ã  la milliseconde, ce qui fait qu&#8217;il peut y avoir prise de pinceaux dans le tapis, et le mauvais fichier est utilisÃ© dans la&nbsp;reconstruction.</p>
<p>On a ensuite discutÃ© avec David + Yohan de plusieurs aspects, autour de la solution Ã  ce problÃ¨me (surement des headers maison pour Ã©viter des soucis avec les <code>ETAGs</code> et leur utilisation par des proxy&nbsp;intermÃ©diaires)</p>
<p>On continue avec une discussion sur notre systÃ¨me de versioning et sur l&#8217;idÃ©e de faire une 2.0 pour introduire des changements importants. La discussion est moins tendue que la derniÃ¨re fois c&#8217;est chouette&nbsp;:-)</p>
<h2 id="mercredi-24-janvier-2024">ğŸ—“ï¸ Mercredi 24 janvier&nbsp;2024</h2>
<p>Session rapide de pair avec David, on avance sur  la connection websocket et leur intÃ©gration avec les&nbsp;formulaires.</p>
<h2 id="mardi-23-janvier-2024">ğŸ—“ï¸ Mardi 23 janvier&nbsp;2024</h2>
<p>J&#8217;ai ajoutÃ© le support de la synchro pour les metadonnÃ©es de la carte sur mon prototype, j&#8217;ai fait des messages websockets + une infrastructure lÃ©gÃ¨re qui permet de voir venir les autres types de synchro. Je passe par l&#8217;Ã©crasement des donnÃ©es de l&#8217;autre carte plutÃ´t que par des CRDTs. Pour le moment pas de gestion de l&#8217;offline, mais je me dis que c&#8217;est&nbsp;secondaire.</p>
<h2 id="lundi-22-janvier-2024">ğŸ—“ï¸ Lundi 22 janvier&nbsp;2024</h2>
<p>Je continue sur mon prototype de synchronisation. Je commence Ã  connecter la partie websockets, avec une implÃ©mentation avec <a href="https://websockets.readthedocs.io">websockets</a> en&nbsp;python.</p>
<p>L&#8217;aprÃ¨s-midi, j&#8217;essaye d&#8217;aller plus loin et pour les besoins de la dÃ©mo de plugger <a href="https://github.com/yjs/y-websocket">Y-WebSocket</a>, mais je bloque (encore) sur l&#8217;utilisation de modules <span class="caps">JS</span>. J&#8217;essaye de contourner en faisant des pirouettes avec webpack (pour qu&#8217;il expose un module attachÃ© Ã  la fenÃªtre), mais je me retrouve face Ã  des soucis de recursion infinie que j&#8217;ai du mal Ã &nbsp;comprendre.</p>
<p>Je me dis que peut-Ãªtre que <a href="https://jsonjoy.com/">Json-Joy</a> sera utile ici, et je commence Ã  le plugger dans le code que j&#8217;ai fait, avant de me rendre compte que son <span class="caps">API</span> est un peu diffÃ©rente de celle de Y.js ou Automerge. Je ne comprends pas tout Ã  fait comment utiliser le projet et je perds du temps la dessus. Je n&#8217;ai pas rÃ©ussi Ã  trouver beaucoup d&#8217;exemples d&#8217;utilisation et Ã§a me questionne sur la documentation et l&#8217;usage rÃ©el de ce&nbsp;projet.</p>
<h2 id="mardi-16-janvier-2024">ğŸ—“ï¸ Mardi 16 janvier&nbsp;2024</h2>
<p>Discussion avec David et Yohan autour de notre maniÃ¨re de s&#8217;outiller. J&#8217;ai du mal Ã  comprendre ce qui bloque, mais j&#8217;ai l&#8217;impression qu&#8217;on patine. J&#8217;ai l&#8217;impression d&#8217;apporter plus d&#8217;inconfort que l&#8217;inverse, et je ressors de la rÃ©union avec un sentiment de&nbsp;frustration.</p>
<h2 id="lundi-15-janvier-2024">ğŸ—“ï¸ Lundi 15 janvier&nbsp;2024</h2>
<p>Une rÃ©union avec toute l&#8217;Ã©quipe durant laquelle j&#8217;ai pu poser des questions
sur notre maniÃ¨re de nous organiser, et sur le role de la rÃ©union hebdomadaire.
Je suis content de l&#8217;avoir fait, hate de voir comment les choses vont&nbsp;Ã©voluer.</p>
<p>Une courte session avec David pour Ã©changer sur l&#8217;approche prise pour le&nbsp;moment.</p>
<h2 id="vendredi-12-janvier-2024">ğŸ—“ï¸ Vendredi 12 janvier&nbsp;2024</h2>
<p>J&#8217;ai continuÃ© Ã  coder la piste initiÃ©e mercredi. Je me rends compte qu&#8217;il me
faudra peut-Ãªtre un moyen de faire du lien entre les donnÃ©es, et que cette
information soit stockÃ©e quelque part (pour des re-rendus en cascade, si des
donnÃ©es sont dÃ©pendantes d&#8217;autres&nbsp;donnÃ©es).</p>
<p>En tout cas, j&#8217;ai une interface un peu plus claire pour le Mixin de <code>rerender</code>.</p>
<h2 id="mercredi-10-janvier-2024">ğŸ—“ï¸ Mercredi 10 janvier&nbsp;2024</h2>
<p>La piste des IDs est finalement Ã©cartÃ©e pour l&#8217;instant, je ne suis pas encore
certain d&#8217;en avoir besoin, peut-Ãªtre qu&#8217;il n&#8217;est pas utile d&#8217;identifier les
features de maniÃ¨re unique au niveau de la base de donnÃ©es, et que cette
information n&#8217;est utile que de maniÃ¨re ponctuelle pour la synchronisation de
donnÃ©es (avec les&nbsp;CRDTs).</p>
<p>On a changÃ© d&#8217;approche avec Yohan pour commencer Ã  coder et voir ou Ã§a
bloquerait. On a commencÃ© par ajouter de la synchro sur les champs du
formbuilder de la&nbsp;carte.</p>
<p>Je suis assez surpris par la relative simplicitÃ© de la tÃ¢che: je m&#8217;attendais Ã 
quelque chose de bien plus compliquÃ©, mais â€” en tout cas pour le formbuilder â€”
c&#8217;est assez simple puisque lui modifie des donnÃ©es qui lui sont extÃ©rieures. Il
est donc possible de se connecter sur son Ã©tape finale pour updater les donnÃ©es
Ã &nbsp;synchroniser.</p>
<p>Actuellement, des <code>callbacks</code> sont dÃ©finis manuellement par le code qui appelle
le formbuilder (pour re-rendre les Ã©lÃ©ments qui en ont besoin), on factorise
tout Ã§a, pour faire en sorte que les donnÃ©es qui viennent de l&#8217;extÃ©rieur mettent
aussi Ã  jour&nbsp;l&#8217;interface.</p>
<p>Je suis content de rÃ©ussir Ã  avancer sur des trucs un peu plus concrets. Aussi
trÃ¨s content des discussions Â« en off Â» avec Yohan. L&#8217;impression qu&#8217;on rÃ©ussi Ã 
commencer Ã  dÃ©samorcer certains trucs avant qu&#8217;ils ne&nbsp;s&#8217;installent.</p>
<p>En fin de journÃ©e, je repasse sur la proposition de Json Joy qui me semble
intÃ©ressante en terme d&#8217;<span class="caps">API</span>, et plus tournÃ©e vers des composants&nbsp;rÃ©utilisables.</p>
<p>Avec un peu de recul, les avancÃ©es de ces quelques jours ne sont pas techniques,
mais humainess. On a passÃ© du temps Ã  confronter des approches, avant de se
rendre compte qu&#8217;il s&#8217;agissait <em>aussi</em> de peurs chez l&#8217;un et chez l&#8217;autre, ce
qui nous a permis  de trouver un moyen de travailler ensemble plus efficacement.
Frustrant de ne pas avoir avancÃ© techniquement, mais l&#8217;impression d&#8217;Ãªtre sur de
bons rails humains, et d&#8217;avoir pu dÃ©grossir certains aspects du code pour me les
rendre&nbsp;comprÃ©hensibles.</p>
<h2 id="mardi-09-janvier-2024">ğŸ—“ï¸ Mardi 09 janvier&nbsp;2024</h2>
<p>On discute avec Yohan de comment faire pour avancer, on commence Ã  travailler
en pair pour plutÃ´t dÃ©cider se sÃ©parer le travail au lieu de le faire&nbsp;ensemble.</p>
<p>Yohan s&#8217;occupera de faire une sÃ©paration du code qui fait le Â« rendering Â», je
travaille sur la partie qui fait la synchronisation de donnÃ©es, qui va utiliser
les APIs exposÃ©es par&nbsp;Yohan.</p>
<p>Ce choix m&#8217;aide Ã  me sentir plus Ã  l&#8217;aise: je n&#8217;ai pas besoin de faire trop
de refactoring sur un code que je ne connais pas et qui me demande beaucoup de
temps de lecture et de&nbsp;comprÃ©hension.</p>
<p>Une discussion avec David me fait imaginer un scÃ©nario que j&#8217;avais oubliÃ©:
faire une bibliothÃ¨que Leaflet qui permet de faire de la synchro de donnÃ©es, de
maniÃ¨re gÃ©nÃ©rique. J&#8217;aime bien le fait que Ã§a propose une sÃ©paration claire de
qui fait quoi, et permettrait d&#8217;avoir une frontiÃ¨re bien dÃ©finie avec le code&nbsp;actuel.</p>
<p>Je ne trouve pas trop ma place dans la weekly qui est plus orientÃ©e dÃ©cisions
stratÃ©giques que updates des uns et des autres. Ã‡a me pose question, j&#8217;aimerai
bien rÃ©ussir Ã  aborder le sujet lors d&#8217;un prochain&nbsp;point.</p>
<p>Je travaille sur un bout de code qui ajoute la gestion des identifiants sur les
features GeoJSON, et j&#8217;ajoute un test dans playwright (c&#8217;est plaisant). Utiliser
des UUIDs (v4) voudrait dire avoir 36bits * 12 000 000 layers * 50 features =
21,<span class="caps">6GB</span> de donnÃ©es en plus sur la base de donnÃ©es de <span class="caps">OSMFR</span>.</p>
<p>Partir sur des identifiants plus courts permet d&#8217;utiliser moins&nbsp;d&#8217;espace.</p>
<p>Je suis content des bouts de discussions qu&#8217;on a pu avoir, qui entament une
rÃ©flexion sur la maniÃ¨re dont on travaille ensemble, ce qu&#8217;on attends l&#8217;un de
l&#8217;autre. Je me rends compte que ma confiance en moi est faible, et que j&#8217;ai
besoin de la conforter avant d&#8217;Ãªtre efficace pour travailler avec&nbsp;d&#8217;autres.</p>
<p>Content de la dÃ©couverte, et d&#8217;avoir pu l&#8217;expliciter auprÃ¨s de Yohan.
J&#8217;espÃ¨re que Ã§a dÃ©bouchera sur quelque chose de sain et&nbsp;productif.</p>
<h2 id="lundi-08-janvier-2024">ğŸ—“ï¸ Lundi 08 janvier&nbsp;2024</h2>
<p>MatinÃ©e passÃ©e et dÃ©but d&#8217;aprÃ¨s midi avec Yohan Ã  faire une release de uMap puis
Ã  faire du bugfix dessus ensuite. Fin d&#8217;aprÃ¨s-midi Ã  discuter de la maniÃ¨re dont
on peut imaginer la suite du travail ensemble. On patine un peu, on a du mal Ã 
trouver une maniÃ¨re de fonctionner qui nous convienne Ã  tous les&nbsp;deux.</p>
<h2 id="lundi-18-decembre-2023">ğŸ—“ï¸ Lundi 18 dÃ©cembre&nbsp;2023</h2>
<p>J&#8217;ai creusÃ© sur mon idÃ©e de faire en sorte de synchroniser un point, j&#8217;ai une meilleure comprÃ©hension de ou m&#8217;insÃ©rer dans le code, et j&#8217;ai pu commencer Ã  coder un bout de code qui fait la connexion avec le&nbsp;stockage.</p>
<p>J&#8217;ai aussi commencÃ© Ã  coder la partie stockage, en mettant de cÃ´tÃ© pour le moment la partie <span class="caps">CRDT</span> en tant que telle, j&#8217;ai l&#8217;impression de voir comment Ã§a va fonctionner maintenant, et l&#8217;intÃ©gration avec Y.<span class="caps">JS</span> me semble difficile sans utiliser de bundler js, ce qui est peut-Ãªtre un signe qu&#8217;il faut aller voir ailleurs (Json Joy me fait de&nbsp;l&#8217;oeil)</p>
<p>J&#8217;ai dÃ©couvert la documentation de Leaflet <a href="https://leafletjs.com/reference.html#class">sur comment les objets fonctionnent</a> et la documentation de <a href="http://leaflet.github.io/Leaflet.Editable/doc/api.html#editable">Leaflet Editable</a> qui Ã©taient en fait des lectures indispensables Ã  la bonne comprÃ©hension du code de&nbsp;umap.</p>
<p>On a terminÃ© la journÃ©e avec une session de pair avec Yohan qui Ã©tait vraiment bien :  j&#8217;avais des questions prÃ©cises et on a pu avancer ensemble vers plus de&nbsp;clartÃ©.</p>
<h2 id="samedi-16-decembre-2023">ğŸ—“ï¸ Samedi 16 dÃ©cembre&nbsp;2023</h2>
<p>J&#8217;ai eu envie de commencer Ã  m&#8217;intÃ©grer avec uMap, pour ce qui est de la synchronisation des donnÃ©es. Pas forcement pour faire les choses <em>en version finale</em>, mais plutÃ´t pour avancer un peu sur ma comprÃ©hension du code de maniÃ¨re&nbsp;gÃ©nÃ©rale.</p>
<p>Objectif: faire de la synchronisation de donnÃ©es pour un point. Quand il est ajoutÃ© sur une carte, je veux pouvoir rÃ©cupÃ©rer un Ã©vÃ¨nement de l&#8217;autre cÃ´tÃ© et l&#8217;afficher sur cette seconde carte. Ã‰ventuellement j&#8217;aimerai bien pouvoir suivre le drag-n-drop&nbsp;Ã©galement.</p>
<p>J&#8217;ai passÃ© l&#8217;aprÃ¨m Ã  mettre des petits points d&#8217;arrÃªts dans mon navigateur web, pour mieux comprendre oÃ¹ ce serait le plus logique de m&#8217;insÃ©rer pour voir les modifications sur la carte, pour enfin commencer Ã  ajouter <code>Y.js</code> dans le code (en tant que&nbsp;module).</p>
<p>Le fait qu&#8217;on utilise pas de bundler rends les choses un peu plus compliquÃ©es, mais je suis content d&#8217;avoir la main sur comment les choses sont&nbsp;faites.</p>
<p>J&#8217;ai un peu bloquÃ© sur l&#8217;utilisation de Y.<span class="caps">JS</span>, qui s&#8217;attends Ã  ce que d&#8217;autres modules soient disponibles dans des namespaces spÃ©cifiques, ce qui ne correspond pas vraiment Ã  nos&nbsp;pratiques.</p>
<p>J&#8217;ai dÃ©couvert <a href="">import maps</a> et j&#8217;ai commencÃ© Ã  les utiliser, mais Ã§a ne semble pas suffire pour notre approche &#8220;simpliste&#8221;. En tout cas, pas pour Y.<span class="caps">JS</span>&nbsp;(https://github.com/yjs/yjs/issues/325)</p>
<h2 id="vendredi-15-decembre-2023">ğŸ—“ï¸ Vendredi 15 dÃ©cembre&nbsp;2023</h2>
<p>ğŸš— J&#8217;ai travaillÃ© depuis la maison, suite Ã  des soucis de&nbsp;voiture. </p>
<p>J&#8217;ai continuÃ© le travail sur l&#8217;ajout de l&#8217;utilisation de modules Javascript, pour pouvoir gÃ©rer les imports et les exports, plutÃ´t que d&#8217;avoir tout dans le namespace&nbsp;global.</p>
<p>J&#8217;ai pu discuter avec Vincent puis avec David du sujet. Je suis content <a href="https://github.com/umap-project/umap/pull/1463">de l&#8217;approche prise</a>, qui devrait permettre de moderniser un peu la base de code, sans pour autant utiliser des technologies de transpilation, ni de bundling qui rendent l&#8217;expÃ©rience dÃ©veloppeur plus&nbsp;complexe.</p>
<p>J&#8217;en ai profitÃ© pour <a href="https://github.com/umap-project/umap/pull/1471">ajouter mes apprentissages</a> dans la documentation dÃ©veloppeur, le genre d&#8217;informations que je rÃ©cupÃ¨re Ã  droite Ã  gauche et qui sont utiles pour pouvoir&nbsp;contribuer.</p>
<p>J&#8217;ai un peu rÃ©organisÃ© mes notes autour des diffÃ©rents challenges qu&#8217;on a sur ce projet concernant les diffÃ©rents aspects (stockage, rÃ©activitÃ©, rÃ©concialiation des donnÃ©es, transport). Et entre autre autour de la partie&nbsp;transport.</p>
<h2 id="jeudi-14-decembre-2023">ğŸ—“ï¸ Jeudi 14 dÃ©cembre&nbsp;2023</h2>
<p>RÃ©union le matin avec Yohan et NLNet, l&#8217;idÃ©e Ã©tait de valider notre plan d&#8217;action, et c&#8217;est bon. Les documents sont signÃ©s on est surs d&#8217;avoir le financement. SacrÃ©e nouvelle&nbsp;:-)</p>
<p>J&#8217;ai dÃ©couvert au passage quelques bibliothÃ¨ques intÃ©ressantes (<a href="https://jsonjoy.com/"><span class="caps">JSON</span> Joy</a> et <a href="https://p2panda.org/">p2panda</a>), qui pourraient potentiellement nous&nbsp;intÃ©resser. </p>
<p>J&#8217;ai passÃ© un peu de temps en amont pour retravailler la proposition qu&#8217;on leur avait faite, et aprÃ¨s pour leur donner dans le format qu&#8217;iels&nbsp;souhaitaient.</p>
<p>L&#8217;aprÃ¨s-midi j&#8217;ai passÃ© un peu de temps pour voir comment on pourrait utiliser des modules <span class="caps">JS</span> dans umap sans tout changer pour autant&nbsp;ğŸ˜‡</p>
<h2 id="mercredi-13-decembre-2023">ğŸ—“ï¸ Mercredi 13 dÃ©cembre&nbsp;2023</h2>
<p>Je n&#8217;ai pas pris de&nbsp;notes.</p>
<h2 id="mardi-12-decembre-2023">ğŸ—“ï¸ Mardi 12 dÃ©cembre&nbsp;2023</h2>
<p>MatinÃ©e loupÃ©e suite Ã  une blessure au poignet la veille au soir. AprÃ¨s-midi passÃ©e en partie avec David pour mettre en place l&#8217;utilisation de web&nbsp;components.</p>
<h2 id="lundi-11-decembre-2023">ğŸ—“ï¸ Lundi 11 dÃ©cembre&nbsp;2023</h2>
<p>MatinÃ©e passÃ©e Ã  imaginer comment les donnÃ©es pourraient Ãªtres structurÃ©es dans le client, et comment l&#8217;interface pourrait se faire avec les objets&nbsp;leaflet.</p>
<p>AprÃ¨s-midi Ã  faire un point humain, puis un point technique, avec la rencontre de (peut-Ãªtre ?) notre prochaine&nbsp;bizdev.</p>
<p>Discussion technique avec David. Peut-Ãªtre qu&#8217;un algorithme de merge qui serait prÃ©sent sur le serveur et sur le client pourrait nous permettre de nous passer de la complexitÃ© des&nbsp;CRDTs?</p>
<h2 id="mercredi-06-decembre-2023">ğŸ—“ï¸ Mercredi 06 dÃ©cembre&nbsp;2023</h2>
<p>J&#8217;ai terminÃ© de faire quelques lÃ©gers changements dans la documentation, avant de me plonger dans le code javascript et de commencer Ã  faire du&nbsp;refactoring.</p>
<p>J&#8217;ai passÃ© du temps Ã  comprendre comment avoir cÃ´te Ã  cÃ´te des modules <span class="caps">ES6</span> et du code de type Â« script Â». J&#8217;ai ensuite commencÃ© Ã  crÃ©er des modules javascript en charge de la sauvegarde des donnÃ©es. En tirant les fils je me rends compte qu&#8217;il va sans doute falloir que je repasse sur le code qui s&#8217;occupe des requÃªtes <span class="caps">XHR</span> Ã  l&#8217;ancienne, pour le remplacer par de&nbsp;l&#8217;async/await.</p>
<p>J&#8217;avais oubliÃ© Ã  quel point faire des requÃªtes depuis le navigateur Ã©tait compliquÃ© Ã  l&#8217;Ã©poque&nbsp;!</p>
<h2 id="mardi-05-decembre-2023">ğŸ—“ï¸ Mardi 05 dÃ©cembre&nbsp;2023</h2>
<p>J&#8217;ai mis Ã  plat ce que j&#8217;ai appris ces derniÃ¨res semaines sur le projet, pour pouvoir dÃ©cider vers oÃ¹ aller pour la suite des&nbsp;Ã©vÃ¨nements.</p>
<p>Une discussion avec Yohan me fait pencher vers la piste que je mettais de cÃ´tÃ© Ã  cause des changements qui sont nÃ©cessaires cÃ´tÃ© client: les&nbsp;CRDTs.</p>
<h2 id="mercredi-29-novembre-2023">ğŸ—“ï¸ Mercredi 29 novembre&nbsp;2023</h2>
<p>J&#8217;ai passÃ© du temps sur la <span class="caps">PR</span> du merge optimiste, pour essayer de changer le fonctionnement qui passe actuellement par la modification des champs de formulaires envoyÃ©s, ce que je ne trouve pas trÃ¨s&nbsp;clean.</p>
<p>Le travail pour faire autrement me semble trop important pour le moment, on accepte la <span class="caps">PR</span> telle quelle, avec l&#8217;idÃ©e de passer par une <span class="caps">API</span> plus tard, avec la refonte avec <span class="caps">DRF</span>.</p>
<p>J&#8217;ai aussi travaillÃ© sur la&nbsp;documentation.</p>
<h2 id="mardi-28-novembre-2023">ğŸ—“ï¸ Mardi 28 novembre&nbsp;2023</h2>
<p>Travail de projection pour NLNet, puis rÃ©union l&#8217;aprÃ¨s-midi. J&#8217;ai ensuite repris les recherches pour affiner l&#8217;utilisation des&nbsp;CRDTs.</p>
<h2 id="lundi-27-novembre-2023">ğŸ—“ï¸ Lundi 27 novembre&nbsp;2023</h2>
<p>MatinÃ©e passÃ©e Ã  organiser ma semaine, Ã  participer a la prÃ©sentation de NLNet (trÃ¨s bon accueil, et clarifications utiles), puis Ã  faire un petit tour de uMap cÃ´tÃ© front avec&nbsp;Yohan.</p>
<p>L&#8217;aprÃ¨s-midi j&#8217;ai commencÃ© Ã  intÃ©grer les notes que j&#8217;ai prises sur le cÃ´tÃ© <span class="caps">JS</span> Ã  la documentation actuelle, et j&#8217;en ai profitÃ© pour refaire un tour sur la documentation actuelle pour la simplifier et la&nbsp;clarifier.</p>
<h2 id="vendredi-24-novembre-2023">ğŸ—“ï¸ Vendredi 24 novembre&nbsp;2023</h2>
<p>RÃ©union d&#8217;avancement et point avec David et Yohan pour prÃ©parer la suite concernant&nbsp;NLNet.</p>
<p>Je suis content d&#8217;avoir prÃ©parÃ© le point, et je mesure l&#8217;importance donnÃ©e aux personnes dans les&nbsp;process.</p>
<h2 id="jeudi-23-novembre-2023">ğŸ—“ï¸ Jeudi 23 novembre&nbsp;2023</h2>
<p>J&#8217;ai passÃ© du temps pour faire passer les tests dans le <span class="caps">CI</span>, et rÃ©solu quelques problÃ¨mes au&nbsp;passage.</p>
<h2 id="mercredi-22-novembre-2023">ğŸ—“ï¸ Mercredi 22 novembre&nbsp;2023</h2>
<p>J&#8217;ai explorÃ© l&#8217;utilisation de Websockets pour le transport, entre autre sa consommation mÃ©moire, il semblerait que ce soit tout Ã  fait acceptable (1gb de mÃ©moire permet de gÃ©rer 1500 connexions&nbsp;concurrentes).</p>
<p>WebRTC n&#8217;est <a href="https://gitlab.torproject.org/legacy/trac/-/issues/8178">actuellement pas supportÃ© par Tor Browser </a>(<a href="https://gitlab.torproject.org/tpo/applications/tor-browser/-/issues/41021">pour le moment</a>), donc j&#8217;imagine que c&#8217;est une fausse&nbsp;piste.</p>
<p>J&#8217;ai repassÃ© un bon coup sur la <span class="caps">PR</span> du merge optimiste. Je suis content du rÃ©sultat: le code et des tests me semblent plus lisibles et&nbsp;comprÃ©hensibles.</p>
<p>L&#8217;aprÃ¨s-midi Ã  Ã©tÃ© passÃ©e avec Yohan qui m&#8217;a fait un tour du frontend. J&#8217;en ai profitÃ© pour prendre des notes que je pense publier dans la documentation. C&#8217;Ã©tait trÃ¨s utile d&#8217;avoir ses explications, le code n&#8217;est pas si simple Ã  prendre en&nbsp;main.</p>
<h2 id="mardi-21-novembre-2023">ğŸ—“ï¸ Mardi 21 novembre&nbsp;2023</h2>
<p>Une matinÃ©e passÃ©e Ã  la fois Ã  prÃ©parer la semaine et Ã  rÃ©diger un rÃ©sumÃ© de ce que j&#8217;ai fait la semaine derniÃ¨re.
J&#8217;ai passÃ© un peu plus de temps Ã  comprendre en profondeur le code de merge de la <span class="caps">PR</span> de Biondi biondo, pour pouvoir l&#8217;expliquer dans un article de&nbsp;blog.</p>
<p>L&#8217;aprÃ¨s-midi j&#8217;ai participÃ© Ã  la weekly et lu l&#8217;article de blog de Figma qui explique leur approche pour implementer du temps&nbsp;rÃ©el.</p>
<p>J&#8217;avance petit Ã  petite sur la piste d&#8217;utiliser un <span class="caps">CRDT</span> &#8220;maison&#8221;, voire pas de <span class="caps">CRDT</span> du tout, en fonction de nos besoins rÃ©els. Un <span class="caps">CRDT</span> nous permettrait d&#8217;avoir plusieurs personnes qui travaillent en mÃªme temps sur une mÃªme feature (au sens GeoJSON), mais je ne sais pas encore si c&#8217;est un cas d&#8217;usage&nbsp;rÃ©el.</p>
<h2 id="samedi-18-novembre-2023">ğŸ—“ï¸ Samedi 18 novembre&nbsp;2023</h2>
<p>J&#8217;ai passÃ© un peu de temps Ã  intÃ©grer l&#8217;intÃ©gration continue de Github. Je pensais que ce serait rapide mais je ne devais pas Ãªtre trÃ¨s&nbsp;rÃ©veillÃ©â€¦</p>
<h2 id="vendredi-17-novembre-2023">ğŸ—“ï¸ Vendredi 17 novembre&nbsp;2023</h2>
<p>J&#8217;ai passÃ© du temps pour essayer de comprendre comment utiliser SQLite en local Ã  l&#8217;intÃ©rieur d&#8217;un navigateur, en utilisant <a href="https://vlcn.io/docs/cr-sqlite/intro">cr-sqlite</a>. J&#8217;ai un prototype qui fonctionne Ã  peu prÃ¨s et qui permet de rÃ©cupÃ©rer les Ã©ditions en local pour les synchroniser avec une autre base&nbsp;SQLite.</p>
<p>Fait un point avec l&#8217;Ã©quipe sur l&#8217;avancement gÃ©nÃ©ral&nbsp;l&#8217;aprÃ¨s-midi.</p>
<p>Ensuite continuÃ© Ã  creuser sur l&#8217;utilisation de SQLite avec&nbsp;cr-sqlite.</p>
<h2 id="mardi-14-novembre-2023">ğŸ—“ï¸ Mardi 14 novembre&nbsp;2023</h2>
<p>Une matinÃ©e passÃ©e avec Yohan pour Ã  la fois <a href="https://github.com/umap-project/umap/pull/772/">avancer sur la <span class="caps">PR</span> pour merger des conflits simples</a>. On a passÃ© le code en revue et fait quelques changements cosmÃ©tiques qui devraient aider Ã  la comprÃ©hension&nbsp;gÃ©nÃ©rale.</p>
<p>La deuxiÃ¨me partie de la matinÃ©e Ã  Ã©tÃ© utilisÃ©e pour discuter des dÃ©couvertes et des questions que je me pose quand Ã  comment faire pour ajouter ces fonctions de collaboration temps&nbsp;rÃ©el.</p>
<p>Plusieurs trucs Ã  noter :
- Il est possible de challenger l&#8217;utilisation de geoJSON pour le stockage des donnÃ©es. On a parlÃ© entre autres de pmtiles et de&nbsp;sqlite.</p>
<p>J&#8217;ai passÃ© un dÃ©but d&#8217;aprÃ¨s-midi Ã  installer mon environnement de travail sur Linux, puis j&#8217;ai :
- terminÃ© de rebaser la pull request pour faire un merge optimiste.
- amÃ©liorÃ© la vitesse d&#8217;execution des&nbsp;tests</p>
<p>DÃ©couvertes :
- https://www.geopackage.org/
-&nbsp;https://vlcn.io/docs/js/reactivity</p>
<h2 id="lundi-13-novembre-2023">ğŸ—“ï¸ Lundi 13 novembre&nbsp;2023</h2>
<p>J&#8217;ai cherchÃ© Ã  comprendre comment il serait possible de s&#8217;intÃ©grer avec Leaflet. Je connais assez mal l&#8217;Ã©cosystÃ¨me donc j&#8217;ai cherchÃ© les plugins autour de stockage de donnÃ©es et de la&nbsp;synchronisation.</p>
<p>Beaucoup de clicks, de lecture et de comprÃ©hension des contours de l&#8217;Ã©cosystÃ¨me <span class="caps">SIG</span>, et de l&#8217;Ã©cosystÃ¨me de&nbsp;Leaflet.</p>
<p>J&#8217;ai aussi creusÃ© autour des <span class="caps">SSE</span> et de WebRTC, question de comprendre les limites et avantages de&nbsp;chacun.</p>
<h2 id="mardi-07-novembre-2023">ğŸ—“ï¸ Mardi 07 novembre&nbsp;2023</h2>
<ul>
<li>Lu la documentation&nbsp;d&#8217;automerge</li>
<li>CommencÃ© Ã  faire un prototype pour voir le fonctionnement d&#8217;automerge en&nbsp;python</li>
<li>InstallÃ© les dÃ©pendances rust, compilÃ©&nbsp;automerge</li>
<li>RÃ©union discussion avec Yohan sur mes questions et sur les diffÃ©rentes&nbsp;pistes</li>
</ul>
<h2 id="lundi-06-novembre-2023">ğŸ—“ï¸ Lundi 06 novembre&nbsp;2023</h2>
<ul>
<li>Lu le code qui est dans uMap actuellement pour comprendre le fonctionnement&nbsp;actuel</li>
<li>CommencÃ© Ã  rÃ©diger un document avec les diffÃ©rentes options pour faire de la&nbsp;synchro</li>
<li>Fais des recherches sur les diffÃ©rentes options pour faire de la&nbsp;synchro</li>
</ul>
  </article>
  <script>
    const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": 500,
      "height": 200,
      "data": 
        {
          "name": "table",
          "values": [
            {"date": "2024-02-22", "series": "RÃ©munÃ©rÃ©", "count": 10},
            {"date": "2024-02-22", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-19", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2024-02-19", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-15", "series": "RÃ©munÃ©rÃ©", "count": 7},
            {"date": "2024-02-15", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-11", "series": "RÃ©munÃ©rÃ©", "count": 7},
            {"date": "2024-02-11", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-08", "series": "RÃ©munÃ©rÃ©", "count": 6},
            {"date": "2024-02-08", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-05", "series": "RÃ©munÃ©rÃ©", "count": 4},
            {"date": "2024-02-05", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-02-01", "series": "RÃ©munÃ©rÃ©", "count": 1},
            {"date": "2024-02-01", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-31", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2024-01-31", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-30", "series": "RÃ©munÃ©rÃ©", "count": 6},
            {"date": "2024-01-30", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-29", "series": "RÃ©munÃ©rÃ©", "count": 6},
            {"date": "2024-01-29", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-24", "series": "RÃ©munÃ©rÃ©", "count": 5},
            {"date": "2024-01-24", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-23", "series": "RÃ©munÃ©rÃ©", "count": 5},
            {"date": "2024-01-23", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-22", "series": "RÃ©munÃ©rÃ©", "count": 7},
            {"date": "2024-01-22", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-16", "series": "RÃ©munÃ©rÃ©", "count": 3},
            {"date": "2024-01-16", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-15", "series": "RÃ©munÃ©rÃ©", "count": 3},
            {"date": "2024-01-15", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-12", "series": "RÃ©munÃ©rÃ©", "count": 3},
            {"date": "2024-01-12", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-10", "series": "RÃ©munÃ©rÃ©", "count": 7},
            {"date": "2024-01-10", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-09", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2024-01-09", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2024-01-08", "series": "RÃ©munÃ©rÃ©", "count": 9},
            {"date": "2024-01-08", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-18", "series": "RÃ©munÃ©rÃ©", "count": 9},
            {"date": "2023-12-18", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-16", "series": "RÃ©munÃ©rÃ©", "count": 4},
            {"date": "2023-12-16", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-15", "series": "RÃ©munÃ©rÃ©", "count": 7},
            {"date": "2023-12-15", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-14", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-12-14", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-13", "series": "RÃ©munÃ©rÃ©", "count": 2},
            {"date": "2023-12-13", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-12", "series": "RÃ©munÃ©rÃ©", "count": 4},
            {"date": "2023-12-12", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-11", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-12-11", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-06", "series": "RÃ©munÃ©rÃ©", "count": 6},
            {"date": "2023-12-06", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-12-05", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-12-05", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-29", "series": "RÃ©munÃ©rÃ©", "count": 5},
            {"date": "2023-11-29", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-28", "series": "RÃ©munÃ©rÃ©", "count": 4},
            {"date": "2023-11-28", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-27", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-11-27", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-24", "series": "RÃ©munÃ©rÃ©", "count": 2},
            {"date": "2023-11-24", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-23", "series": "RÃ©munÃ©rÃ©", "count": 3},
            {"date": "2023-11-23", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-22", "series": "RÃ©munÃ©rÃ©", "count": 9},
            {"date": "2023-11-22", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-21", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-11-21", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-18", "series": "RÃ©munÃ©rÃ©", "count": 0},
            {"date": "2023-11-18", "series": "BÃ©nÃ©vole", "count": 4},
            {"date": "2023-11-17", "series": "RÃ©munÃ©rÃ©", "count": 6},
            {"date": "2023-11-17", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-14", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-11-14", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-13", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-11-13", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-07", "series": "RÃ©munÃ©rÃ©", "count": 8},
            {"date": "2023-11-07", "series": "BÃ©nÃ©vole", "count": 0},
            {"date": "2023-11-06", "series": "RÃ©munÃ©rÃ©", "count": 4},
            {"date": "2023-11-06", "series": "BÃ©nÃ©vole", "count": 0},
          ]
        }
      ,
      "mark": "bar",
      "encoding": {
        "x": {
          "timeUnit": {"unit": "", "utc": true},
          "field": "date",
          "axis": {"format": "%d/%m"},
          "title": "Date"
        },
        "y": {
          "aggregate": "sum",
          "field": "count",
          "title": "Heures",
        },
        "color": {
          "field": "series",
          "scale": {
            "domain": ["BÃ©nÃ©vole", "RÃ©munÃ©rÃ©"],
            "range": ["#e7ba52", "#1f77b4"]
          }
        }
      }
    };

  	vegaEmbed("#vis", spec)
    	// result.view provides access to the Vega View API
      .then(result => console.log(result))
      .catch(console.warn);
  </script>
            <footer>
                <a id="feed" href="/feeds/all.atom.xml">
                    <img alt="RSS Logo" src="/theme/rss.svg" />
                </a>
            </footer>
        </div>
    </body>
</html>