<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>
uMap - Alexis M√©taireau        </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet"
              href="https://blog.notmyidea.org/theme/css/main.css?v2"
              type="text/css" />
        <link href="https://blog.notmyidea.org/feeds/all.atom.xml"
              type="application/atom+xml"
              rel="alternate"
              title="Alexis M√©taireau ATOM Feed" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    </head>
    <body>
        <div id="content">
            <section id="links">
                <ul>
                            <li>
                                <a class="main" href="/">Alexis M√©taireau</a>
                            </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/journal/index.html">Journal</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/code/">Code, etc.</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/weeknotes/">Notes hebdo</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/lectures/">Lectures</a>
                        </li>
                        <li>
                            <a class=""
                               href="https://blog.notmyidea.org/projets.html">Projets</a>
                        </li>
                </ul>
            </section>
  <header>
    <h1 class="post-title">uMap</h1>
      <div>
‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë        31% (54h / 175 pr√©vues)
      </div>
      <ul>
        <li>54h r√©mun√©r√©es</li>
        <li>4h b√©n√©voles</li>
      </ul>
  </header>
  <article>
    <div id="vis"></div>
    <h2 id="samedi-25-novembre-2023">üóìÔ∏è Samedi 25 novembre&nbsp;2023</h2>
<p>J&#8217;ai pass√© du temps pour faire passer les tests dans le <span class="caps">CI</span>, et r√©solu quelques probl√®mes au&nbsp;passage.</p>
<h2 id="vendredi-24-novembre-2023">üóìÔ∏è Vendredi 24 novembre&nbsp;2023</h2>
<p>J&#8217;ai explor√© l&#8217;utilisation de Websockets pour le transport, entre autre sa consommation m√©moire, il semblerait que ce soit tout √† fait acceptable (1gb de m√©moire permet de g√©rer 1500 connexions&nbsp;concurrentes).</p>
<p>WebRTC n&#8217;est <a href="https://gitlab.torproject.org/legacy/trac/-/issues/8178">actuellement pas support√© par Tor Browser </a>(<a href="https://gitlab.torproject.org/tpo/applications/tor-browser/-/issues/41021">pour le moment</a>), donc j&#8217;imagine que c&#8217;est une fausse&nbsp;piste.</p>
<p>J&#8217;ai repass√© un bon coup sur la <span class="caps">PR</span> du merge optimiste. Je suis content du r√©sultat: le code et des tests me semblent plus lisibles et&nbsp;compr√©hensibles.</p>
<p>L&#8217;apr√®s-midi √† √©t√© pass√©e avec Yohan qui m&#8217;a fait un tour du frontend. J&#8217;en ai profit√© pour prendre des notes que je pense publier dans la documentation. C&#8217;√©tait tr√®s utile d&#8217;avoir ses explications, le code n&#8217;est pas si simple √† prendre en&nbsp;main.</p>
<h2 id="jeudi-23-novembre-2023">üóìÔ∏è Jeudi 23 novembre&nbsp;2023</h2>
<p>Une matin√©e pass√©e √† la fois √† pr√©parer la semaine et √† r√©diger un r√©sum√© de ce que j&#8217;ai fait la semaine derni√®re.
J&#8217;ai pass√© un peu plus de temps √† comprendre en profondeur le code de merge de la <span class="caps">PR</span> de Biondi biondo, pour pouvoir l&#8217;expliquer dans un article de&nbsp;blog.</p>
<p>L&#8217;apr√®s-midi j&#8217;ai particip√© √† la weekly et lu l&#8217;article de blog de Figma qui explique leur approche pour implementer du temps&nbsp;r√©el.</p>
<p>J&#8217;avance petit √† petite sur la piste d&#8217;utiliser un <span class="caps">CRDT</span> &#8220;maison&#8221;, voire pas de <span class="caps">CRDT</span> du tout, en fonction de nos besoins r√©els. Un <span class="caps">CRDT</span> nous permettrait d&#8217;avoir plusieurs personnes qui travaillent en m√™me temps sur une m√™me feature (au sens GeoJSON), mais je ne sais pas encore si c&#8217;est un cas d&#8217;usage&nbsp;r√©el.</p>
<h2 id="samedi-18-novembre-2023">üóìÔ∏è Samedi 18 novembre&nbsp;2023</h2>
<p>J&#8217;ai pass√© un peu de temps √† int√©grer l&#8217;int√©gration continue de Github. Je pensais que ce serait rapide mais je ne devais pas √™tre tr√®s&nbsp;r√©veill√©‚Ä¶</p>
<h2 id="vendredi-17-novembre-2023">üóìÔ∏è Vendredi 17 novembre&nbsp;2023</h2>
<p>J&#8217;ai pass√© du temps pour essayer de comprendre comment utiliser SQLite en local √† l&#8217;int√©rieur d&#8217;un navigateur, en utilisant <a href="https://vlcn.io/docs/cr-sqlite/intro">cr-sqlite</a>. J&#8217;ai un prototype qui fonctionne √† peu pr√®s et qui permet de r√©cup√©rer les √©ditions en local pour les synchroniser avec une autre base&nbsp;SQLite.</p>
<p>Fait un point avec l&#8217;√©quipe sur l&#8217;avancement g√©n√©ral&nbsp;l&#8217;apr√®s-midi.</p>
<p>Ensuite continu√© √† creuser sur l&#8217;utilisation de SQLite avec&nbsp;cr-sqlite.</p>
<h2 id="mardi-14-novembre-2023">üóìÔ∏è Mardi 14 novembre&nbsp;2023</h2>
<p>Une matin√©e pass√©e avec Yohan pour √† la fois <a href="https://github.com/umap-project/umap/pull/772/">avancer sur la <span class="caps">PR</span> pour merger des conflits simples</a>. On a pass√© le code en revue et fait quelques changements cosm√©tiques qui devraient aider √† la compr√©hension&nbsp;g√©n√©rale.</p>
<p>La deuxi√®me partie de la matin√©e √† √©t√© utilis√©e pour discuter des d√©couvertes et des questions que je me pose quand √† comment faire pour ajouter ces fonctions de collaboration temps&nbsp;r√©el.</p>
<p>Plusieurs trucs √† noter :
- Il est possible de challenger l&#8217;utilisation de geoJSON pour le stockage des donn√©es. On a parl√© entre autres de pmtiles et de&nbsp;sqlite.</p>
<p>J&#8217;ai pass√© un d√©but d&#8217;apr√®s-midi √† installer mon environnement de travail sur Linux, puis j&#8217;ai :
- termin√© de rebaser la pull request pour faire un merge optimiste.
- am√©lior√© la vitesse d&#8217;execution des&nbsp;tests</p>
<p>D√©couvertes :
- https://www.geopackage.org/
-&nbsp;https://vlcn.io/docs/js/reactivity</p>
<h2 id="lundi-13-novembre-2023">üóìÔ∏è Lundi 13 novembre&nbsp;2023</h2>
<p>J&#8217;ai cherch√© √† comprendre comment il serait possible de s&#8217;int√©grer avec Leaflet. Je connais assez mal l&#8217;√©cosyst√®me donc j&#8217;ai cherch√© les plugins autour de stockage de donn√©es et de la&nbsp;synchronisation.</p>
<p>Beaucoup de clicks, de lecture et de compr√©hension des contours de l&#8217;√©cosyst√®me <span class="caps">SIG</span>, et de l&#8217;√©cosyst√®me de&nbsp;Leaflet.</p>
<p>J&#8217;ai aussi creus√© autour des <span class="caps">SSE</span> et de WebRTC, question de comprendre les limites et avantages de&nbsp;chacun.</p>
<h2 id="mardi-07-novembre-2023">üóìÔ∏è Mardi 07 novembre&nbsp;2023</h2>
<ul>
<li>Lu la documentation&nbsp;d&#8217;automerge</li>
<li>Commenc√© √† faire un prototype pour voir le fonctionnement d&#8217;automerge en&nbsp;python</li>
<li>Install√© les d√©pendances rust, compil√©&nbsp;automerge</li>
<li>R√©union discussion avec Yohan sur mes questions et sur les diff√©rentes&nbsp;pistes</li>
</ul>
<h2 id="lundi-06-novembre-2023">üóìÔ∏è Lundi 06 novembre&nbsp;2023</h2>
<ul>
<li>Lu le code qui est dans uMap actuellement pour comprendre le fonctionnement&nbsp;actuel</li>
<li>Commenc√© √† r√©diger un document avec les diff√©rentes options pour faire de la&nbsp;synchro</li>
<li>Fais des recherches sur les diff√©rentes options pour faire de la&nbsp;synchro</li>
</ul>
  </article>
  <script>
    const spec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": 500,
      "height": 200,
      "data": 
        {
          "name": "table",
          "values": [
            {"date": "2023-11-25", "series": "R√©mun√©r√©", "count": 3},
            {"date": "2023-11-25", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-24", "series": "R√©mun√©r√©", "count": 9},
            {"date": "2023-11-24", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-23", "series": "R√©mun√©r√©", "count": 8},
            {"date": "2023-11-23", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-18", "series": "R√©mun√©r√©", "count": 0},
            {"date": "2023-11-18", "series": "B√©n√©vole", "count": 4},
            {"date": "2023-11-17", "series": "R√©mun√©r√©", "count": 6},
            {"date": "2023-11-17", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-14", "series": "R√©mun√©r√©", "count": 8},
            {"date": "2023-11-14", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-13", "series": "R√©mun√©r√©", "count": 8},
            {"date": "2023-11-13", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-07", "series": "R√©mun√©r√©", "count": 8},
            {"date": "2023-11-07", "series": "B√©n√©vole", "count": 0},
            {"date": "2023-11-06", "series": "R√©mun√©r√©", "count": 4},
            {"date": "2023-11-06", "series": "B√©n√©vole", "count": 0},
          ]
        }
      ,
      "mark": "bar",
      "encoding": {
        "x": {
          "timeUnit": {"unit": "dayofyear", "step": 1},
          "field": "date",
          "axis": {"format": "%d/%m"},
          "title": "Date",
          "step": 1,
        },
        "y": {
          "aggregate": "sum",
          "field": "count",
          "title": "Heures",
        },
        "color": {
          "field": "series",
          "scale": {
            "domain": ["B√©n√©vole", "R√©mun√©r√©"],
            "range": ["#e7ba52", "#1f77b4"]
          },
          "title": "Type d'heures"
        }
      }
    };

  	vegaEmbed("#vis", spec)
    	// result.view provides access to the Vega View API
      .then(result => console.log(result))
      .catch(console.warn);
  </script>
            <footer>
                <a id="feed" href="/feeds/all.atom.xml">
                    <img alt="RSS Logo" src="/theme/rss.svg" />
                </a>
            </footer>
        </div>
    </body>
</html>